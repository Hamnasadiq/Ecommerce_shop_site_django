{% extends 'shop/background.html' %}
{% load static %}

{% block title %}Order Confirmed â€” Shopix{% endblock %}

{% block extra_css %}
<style>
  /* ===== ANIMATED CHECKMARK ===== */
  .success-wrapper {
    min-height: 70vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .success-card {
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    border: 1px solid rgba(255,255,255,0.18);
    border-radius: 24px;
    padding: 3rem 2.5rem;
    text-align: center;
    max-width: 520px;
    width: 100%;
    animation: popIn .5s cubic-bezier(.68,-.55,.27,1.55) forwards;
  }
  @keyframes popIn {
    0%   { transform: scale(.7); opacity: 0; }
    100% { transform: scale(1);  opacity: 1; }
  }

  /* SVG check animation */
  .checkmark-circle {
    width: 120px; height: 120px; margin: 0 auto 1.5rem;
  }
  .checkmark-circle .circle {
    stroke-dasharray: 166;
    stroke-dashoffset: 166;
    animation: strokeCircle .6s cubic-bezier(.65,0,.45,1) forwards;
  }
  .checkmark-circle .check {
    stroke-dasharray: 48;
    stroke-dashoffset: 48;
    animation: strokeCheck .35s cubic-bezier(.65,0,.45,1) .5s forwards;
  }
  @keyframes strokeCircle {
    100% { stroke-dashoffset: 0; }
  }
  @keyframes strokeCheck {
    100% { stroke-dashoffset: 0; }
  }

  .success-title {
    font-weight: 800;
    font-size: 1.75rem;
    color: var(--text-dark, #fff);
    margin-bottom: .5rem;
  }
  .success-subtitle {
    color: var(--text-muted, #bbb);
    font-size: 1rem;
    margin-bottom: 1.5rem;
  }
  .order-code-badge {
    display: inline-block;
    background: linear-gradient(135deg, #10b981, #059669);
    color: #fff;
    font-weight: 700;
    font-size: 1.5rem;
    letter-spacing: 2px;
    padding: .6rem 1.6rem;
    border-radius: 12px;
    margin-bottom: 2rem;
    animation: pulseBadge 2s infinite;
  }
  @keyframes pulseBadge {
    0%, 100% { box-shadow: 0 0 0 0 rgba(16,185,129,.4); }
    50%      { box-shadow: 0 0 0 12px rgba(16,185,129,0); }
  }
  .success-actions .btn { padding: .65rem 1.6rem; font-weight: 600; }
</style>
{% endblock %}

{% block content %}
<div class="success-wrapper">
  <div class="success-card">

    <!-- Animated SVG Checkmark -->
    <svg class="checkmark-circle" viewBox="0 0 52 52" fill="none"
         xmlns="http://www.w3.org/2000/svg">
      <circle class="circle" cx="26" cy="26" r="25"
              stroke="#10b981" stroke-width="2" fill="none" />
      <path class="check" d="M14.1 27.2l7.1 7.2 16.7-16.8"
            stroke="#10b981" stroke-width="3" fill="none"
            stroke-linecap="round" stroke-linejoin="round" />
    </svg>

    <h2 class="success-title">Order Placed!</h2>
    <p class="success-subtitle">
      Thank you for your purchase. Your order has been confirmed.
    </p>

    <div class="order-code-badge">{{ order.order_code }}</div>

    <p class="success-subtitle" style="font-size:.9rem;">
      Save this code to track your order anytime.
    </p>

    <div class="success-actions d-flex justify-content-center gap-3 flex-wrap">
      <a href="/" class="btn btn-theme">
        <i class="fa-solid fa-arrow-left me-1"></i> Continue Shopping
      </a>
      <a href="{% url 'cart' %}" class="btn btn-theme-solid">
        <i class="fa-solid fa-magnifying-glass me-1"></i> Track Order
      </a>
    </div>

  </div>
</div>
{% endblock %}
